<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pizza Portfolio</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div class="header-container">
            <!-- Redirecionando para a raiz do site, onde o arquivo index.html serÃ¡ automaticamente carregado -->
            <a href="/" class="index.html">Home</a>
            <h1>Pizza Portfolio</h1>
        </div>
    </header>
    
    <main>
        <section class="portfolio-introduction">
            <h2>Pizza Portfolio</h2>
            <p>We invest in a variety of cryptocurrencies. Currently, our portfolio includes Bitcoin, Pax Gold, Solana, and Pizza Day Token. These strategic investments are aimed at growing and securing the project.</p>
        </section>
        
        <section class="portfolio-chart" id="chartSection" style="display: none;">
            <canvas id="pizzaChart"></canvas>
        </section>

        <section class="portfolio-info">
            <p>The reason for this portfolio is to maintain strategic reserves for the project. Bitcoin, Pax Gold, and Solana are meant as stable reserves, while Pizza Day Token plays a key role in the future growth of the project. In the future, Pizza Day Token holders will receive part of the profits generated through staking Solana and other cryptocurrencies in this portfolio, distributed every six months.</p>
        </section>
    </main>

    <script>
        // Replace these with your wallet addresses
        const walletAddresses = {
            bitcoin: "your_bitcoin_wallet_address", // Replace with Bitcoin wallet address
            solana: "your_solana_wallet_address",  // Replace with Solana wallet address
            paxGold: "your_paxgold_wallet_address", // Replace with Pax Gold wallet address
            pizzaDay: "your_pizza_day_wallet_address" // Replace with Pizza Day token wallet address
        };

        // API request to get balance (example with CoinGecko for Bitcoin and Solana)
        async function getWalletBalances() {
            const balances = {
                bitcoin: 0,
                solana: 0,
                paxGold: 0,
                pizzaDay: 0
            };

            // Fetch Bitcoin balance from CoinGecko (for demonstration purposes)
            try {
                const btcResponse = await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=usd`);
                const btcData = await btcResponse.json();
                balances.bitcoin = btcData.bitcoin.usd; // Getting USD value (you can adjust this to token amount if needed)
            } catch (error) {
                console.error("Error fetching Bitcoin data", error);
            }

            // Fetch Solana balance (use Solscan or similar API for Solana)
            try {
                const solResponse = await fetch(`https://public-api.solscan.io/account/tokens?address=${walletAddresses.solana}`);
                const solData = await solResponse.json();
                const solBalance = solData.data.find(token => token.tokenSymbol === "SOL");
                balances.solana = solBalance ? solBalance.tokenAmount.uiAmount : 0;
            } catch (error) {
                console.error("Error fetching Solana data", error);
            }

            // Similarly, you can fetch Pax Gold and Pizza Day Token balances from their respective APIs.

            return balances;
        }

        async function updateChart() {
            const walletData = await getWalletBalances();

            // Only show the chart if at least one wallet has a balance
            if (walletData.bitcoin > 0 || walletData.solana > 0 || walletData.paxGold > 0 || walletData.pizzaDay > 0) {
                // Show the chart section
                document.getElementById('chartSection').style.display = 'block';

                // Chart data
                const data = {
                    labels: ['Bitcoin', 'Pax Gold', 'Solana', 'Pizza Day Token'],
                    datasets: [{
                        data: [
                            walletData.bitcoin,
                            walletData.paxGold,
                            walletData.solana,
                            walletData.pizzaDay
                        ],
                        backgroundColor: ['#ffcc00', '#008000', '#0000ff', '#ff0000'], // Yellow, Green, Blue, Red
                        hoverOffset: 4
                    }]
                };

                // Chart configuration
                const config = {
                    type: 'pie',
                    data: data,
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                position: 'top',
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(tooltipItem) {
                                        const value = tooltipItem.raw;
                                        return `${tooltipItem.label}: ${value} tokens`;
                                    }
                                }
                            }
                        }
                    }
                };

                // Render the chart
                const ctx = document.getElementById('pizzaChart').getContext('2d');
                const pizzaChart = new Chart(ctx, config);
            }
        }

        // Call updateChart function when the page loads
        window.onload = updateChart;
    </script>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f4f4f4;
        }

        header {
            width: 100%;
            background-color: #333;
            color: white;
            padding: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 1200px;
            padding: 0 20px;
        }

        .home-button {
            color: white;
            text-decoration: none;
        }

        h1 {
            text-align: center;
            margin: 0;
            flex-grow: 1;
            text-align: center;
        }

        main {
            width: 80%;
            max-width: 1200px;
            padding: 20px;
            text-align: center;
        }

        .portfolio-introduction h2 {
            margin-top: 20px;
            font-size: 2em;
        }

        .portfolio-chart {
            margin-top: 40px;
            width: 100%;
            max-width: 600px;
            margin-bottom: 40px;
        }

        .portfolio-info {
            font-size: 1.1em;
            line-height: 1.6;
            color: #333;
        }

        .portfolio-info p {
            max-width: 900px;
            margin: 0 auto;
        }
    </style>
</body>
</html>
